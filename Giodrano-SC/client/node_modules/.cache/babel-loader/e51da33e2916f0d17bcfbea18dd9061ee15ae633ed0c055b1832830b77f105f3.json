{"ast":null,"code":"var _jsxFileName = \"/home/redapt/repos/Giodrano-SC/Giodrano-SC/client/src/Context/Context.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { axiosInstance } from \"../Helpers/HTTP_CLIENT\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nconst ContextProvider = props => {\n  _s();\n  const [user, setUser] = useState(false);\n  const [cover, setCover] = useState(\"\");\n  const [userLoaded, setUserLoaded] = useState(false);\n  const [admin, setAdmin] = useState(false);\n  const [adminLoaded, setAdminLoaded] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [cartIsLoaded, setCartIsLoaded] = useState(false);\n  const [toast, setToast] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/user-online\");\n        setUser(data.data);\n        setUserLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setUser(false);\n        setUserLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/_admin_/admin-online\");\n        setAdmin(data.data);\n        setAdminLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setAdmin(false);\n        setAdminLoaded(true);\n      }\n    };\n    if (window.location.pathname.includes(\"backoffice\")) fetchData();else setAdminLoaded(true);\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setCartIsLoaded(false);\n        const [data, data_2] = await Promise.all([axiosInstance.get(\"/api/v1/cart\"), axiosInstance.get(\"/api/v1/cover\")]);\n        setCart(data.data);\n        setCover(data_2.data.cover);\n        setCartIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setCartIsLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n  const logout = async () => {\n    try {\n      setUserLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/user-logout\");\n      setUser(false);\n      setUserLoaded(true);\n    } catch (err) {\n      setUser(false);\n      setUserLoaded(true);\n    }\n  };\n  const adminLogout = async () => {\n    try {\n      setAdminLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/_admin_/admin-logout\");\n      setAdmin(false);\n      setAdminLoaded(true);\n    } catch (err) {\n      setAdmin(false);\n      setAdminLoaded(true);\n    }\n  };\n  const addToCart = async item => {\n    try {\n      const data = await axiosInstance.put(\"/api/v1/cart\", {\n        item\n      });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n  const deleteFromCart = async item => {\n    try {\n      const data = await axiosInstance.delete(\"/api/v1/cart\", {\n        params: {\n          item\n        }\n      });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      user,\n      setUser,\n      logout,\n      userLoaded,\n      toast,\n      setToast,\n      setUserLoaded,\n      admin,\n      setAdmin,\n      adminLoaded,\n      adminLogout,\n      cart,\n      cartIsLoaded,\n      addToCart,\n      deleteFromCart,\n      cover\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"6zwRumM1byzzb0BywPbxMSFuIwM=\");\n_c = ContextProvider;\nexport { Context, ContextProvider };\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","jsxDEV","_jsxDEV","Context","createContext","ContextProvider","props","_s","user","setUser","cover","setCover","userLoaded","setUserLoaded","admin","setAdmin","adminLoaded","setAdminLoaded","cart","setCart","cartIsLoaded","setCartIsLoaded","toast","setToast","fetchData","data","get","err","console","log","window","location","pathname","includes","data_2","Promise","all","logout","adminLogout","addToCart","item","put","deleteFromCart","delete","params","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/redapt/repos/Giodrano-SC/Giodrano-SC/client/src/Context/Context.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { axiosInstance } from \"../Helpers/HTTP_CLIENT\";\n\nconst Context = React.createContext();\n\nconst ContextProvider = (props) => {\n  const [user, setUser] = useState(false);\n  const [cover, setCover] = useState(\"\");\n  const [userLoaded, setUserLoaded] = useState(false);\n  const [admin, setAdmin] = useState(false);\n  const [adminLoaded, setAdminLoaded] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [cartIsLoaded, setCartIsLoaded] = useState(false);\n  const [toast, setToast] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/user-online\");\n        setUser(data.data);\n        setUserLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setUser(false);\n        setUserLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/_admin_/admin-online\");\n        setAdmin(data.data);\n        setAdminLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setAdmin(false);\n        setAdminLoaded(true);\n      }\n    };\n    if (window.location.pathname.includes(\"backoffice\")) fetchData();\n    else setAdminLoaded(true);\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setCartIsLoaded(false);\n        const [data, data_2] = await Promise.all([\n          axiosInstance.get(\"/api/v1/cart\"),\n          axiosInstance.get(\"/api/v1/cover\"),\n        ]);\n        setCart(data.data);\n        setCover(data_2.data.cover);\n        setCartIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setCartIsLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const logout = async () => {\n    try {\n      setUserLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/user-logout\");\n      setUser(false);\n      setUserLoaded(true);\n    } catch (err) {\n      setUser(false);\n      setUserLoaded(true);\n    }\n  };\n  const adminLogout = async () => {\n    try {\n      setAdminLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/_admin_/admin-logout\");\n      setAdmin(false);\n      setAdminLoaded(true);\n    } catch (err) {\n      setAdmin(false);\n      setAdminLoaded(true);\n    }\n  };\n\n  const addToCart = async (item) => {\n    try {\n      const data = await axiosInstance.put(\"/api/v1/cart\", { item });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n  const deleteFromCart = async (item) => {\n    try {\n      const data = await axiosInstance.delete(\"/api/v1/cart\", {\n        params: { item },\n      });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n\n  return (\n    <Context.Provider\n      value={{\n        user,\n        setUser,\n        logout,\n        userLoaded,\n        toast,\n        setToast,\n        setUserLoaded,\n        admin,\n        setAdmin,\n        adminLoaded,\n        adminLogout,\n        cart,\n        cartIsLoaded,\n        addToCart,\n        deleteFromCart,\n        cover,\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\nexport { Context, ContextProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}