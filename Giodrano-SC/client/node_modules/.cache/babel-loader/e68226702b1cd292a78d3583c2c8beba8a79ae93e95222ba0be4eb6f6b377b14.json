{"ast":null,"code":"var _jsxFileName = \"/home/redapt/repos/Giodrano-SC/Giodrano-SC/client/src/Context/Context.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { axiosInstance } from \"../Helpers/HTTP_CLIENT\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nconst ContextProvider = props => {\n  _s();\n  const [user, setUser] = useState(false);\n  const [cover, setCover] = useState(\"\");\n  const [userLoaded, setUserLoaded] = useState(false);\n  const [admin, setAdmin] = useState(false);\n  const [adminLoaded, setAdminLoaded] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [cartIsLoaded, setCartIsLoaded] = useState(false);\n  const [toast, setToast] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/user-online\");\n        setUser(data.data);\n        setUserLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setUser(false);\n        setUserLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/_admin_/admin-online\");\n        setAdmin(data.data);\n        setAdminLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setAdmin(false);\n        setAdminLoaded(true);\n      }\n    };\n    if (window.location.pathname.includes(\"backoffice\")) fetchData();else setAdminLoaded(true);\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setCartIsLoaded(false);\n        const [data, data_2] = await Promise.all([axiosInstance.get(\"/api/v1/cart\"), axiosInstance.get(\"/api/v1/cover\")]);\n        setCart(data.data);\n        setCover(data_2.data.cover);\n        setCartIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setCartIsLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n  const logout = async () => {\n    try {\n      setUserLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/user-logout\");\n      setUser(false);\n      setUserLoaded(true);\n    } catch (err) {\n      setUser(false);\n      setUserLoaded(true);\n    }\n  };\n  const adminLogout = async () => {\n    try {\n      setAdminLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/_admin_/admin-logout\");\n      setAdmin(false);\n      setAdminLoaded(true);\n    } catch (err) {\n      setAdmin(false);\n      setAdminLoaded(true);\n    }\n  };\n  const addToCart = async item => {\n    try {\n      const data = await axiosInstance.put(\"/api/v1/cart\", {\n        item\n      });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n  const deleteFromCart = async item => {\n    try {\n      const data = await axiosInstance.delete(\"/api/v1/cart\", {\n        params: {\n          item\n        }\n      });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n  const query = () => {};\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      user,\n      setUser,\n      logout,\n      userLoaded,\n      toast,\n      setToast,\n      setUserLoaded,\n      admin,\n      setAdmin,\n      adminLoaded,\n      adminLogout,\n      cart,\n      cartIsLoaded,\n      addToCart,\n      deleteFromCart,\n      cover,\n      searchQuery,\n      setSearchQuery\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"oEUDbUMGbNfraIzCTcEzIWxtTg0=\");\n_c = ContextProvider;\nexport { Context, ContextProvider };\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","jsxDEV","_jsxDEV","Context","createContext","ContextProvider","props","_s","user","setUser","cover","setCover","userLoaded","setUserLoaded","admin","setAdmin","adminLoaded","setAdminLoaded","cart","setCart","cartIsLoaded","setCartIsLoaded","toast","setToast","searchQuery","setSearchQuery","fetchData","data","get","err","console","log","window","location","pathname","includes","data_2","Promise","all","logout","adminLogout","addToCart","item","put","deleteFromCart","delete","params","query","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/redapt/repos/Giodrano-SC/Giodrano-SC/client/src/Context/Context.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { axiosInstance } from \"../Helpers/HTTP_CLIENT\";\n\nconst Context = React.createContext();\n\nconst ContextProvider = (props) => {\n  const [user, setUser] = useState(false);\n  const [cover, setCover] = useState(\"\");\n  const [userLoaded, setUserLoaded] = useState(false);\n  const [admin, setAdmin] = useState(false);\n  const [adminLoaded, setAdminLoaded] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [cartIsLoaded, setCartIsLoaded] = useState(false);\n  const [toast, setToast] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/user-online\");\n        setUser(data.data);\n        setUserLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setUser(false);\n        setUserLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await axiosInstance.get(\"/api/v1/_admin_/admin-online\");\n        setAdmin(data.data);\n        setAdminLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setAdmin(false);\n        setAdminLoaded(true);\n      }\n    };\n    if (window.location.pathname.includes(\"backoffice\")) fetchData();\n    else setAdminLoaded(true);\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setCartIsLoaded(false);\n        const [data, data_2] = await Promise.all([\n          axiosInstance.get(\"/api/v1/cart\"),\n          axiosInstance.get(\"/api/v1/cover\"),\n        ]);\n        setCart(data.data);\n        setCover(data_2.data.cover);\n        setCartIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n        setCartIsLoaded(true);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const logout = async () => {\n    try {\n      setUserLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/user-logout\");\n      setUser(false);\n      setUserLoaded(true);\n    } catch (err) {\n      setUser(false);\n      setUserLoaded(true);\n    }\n  };\n  const adminLogout = async () => {\n    try {\n      setAdminLoaded(false);\n      const data = await axiosInstance.get(\"/api/v1/_admin_/admin-logout\");\n      setAdmin(false);\n      setAdminLoaded(true);\n    } catch (err) {\n      setAdmin(false);\n      setAdminLoaded(true);\n    }\n  };\n\n  const addToCart = async (item) => {\n    try {\n      const data = await axiosInstance.put(\"/api/v1/cart\", { item });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n  const deleteFromCart = async (item) => {\n    try {\n      const data = await axiosInstance.delete(\"/api/v1/cart\", {\n        params: { item },\n      });\n      setCart(data.data.cart);\n      return true;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n\n  const query = () => {};\n\n  return (\n    <Context.Provider\n      value={{\n        user,\n        setUser,\n        logout,\n        userLoaded,\n        toast,\n        setToast,\n        setUserLoaded,\n        admin,\n        setAdmin,\n        adminLoaded,\n        adminLogout,\n        cart,\n        cartIsLoaded,\n        addToCart,\n        deleteFromCart,\n        cover,\n        searchQuery,\n        setSearchQuery,\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\nexport { Context, ContextProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}